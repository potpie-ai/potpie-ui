(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[389],{7464:function(e,t,r){Promise.resolve().then(r.bind(r,9737))},9737:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return I}});var n=r(7437),s=r(8792),a=r(5754),i=r(5582),o=r(2670),c=r(248),u=r(1270),l=r(2730),d=r(2265),m=r(9143),f=r(1657),g=r(4602);let p=(0,r(7742).j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),h=d.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,n.jsx)(g.f,{ref:t,className:(0,f.cn)(p(),r),...s})});h.displayName=g.f.displayName;let v=o.RV,x=d.createContext({}),b=()=>{let e=d.useContext(x),t=d.useContext(y),{getFieldState:r,formState:n}=(0,o.Gc)(),s=r(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:a}=t;return{id:a,name:e.name,formItemId:"".concat(a,"-form-item"),formDescriptionId:"".concat(a,"-form-item-description"),formMessageId:"".concat(a,"-form-item-message"),...s}},y=d.createContext({});d.forwardRef((e,t)=>{let{className:r,...s}=e,a=d.useId();return(0,n.jsx)(y.Provider,{value:{id:a},children:(0,n.jsx)("div",{ref:t,className:(0,f.cn)("space-y-2",r),...s})})}).displayName="FormItem",d.forwardRef((e,t)=>{let{className:r,...s}=e,{error:a,formItemId:i}=b();return(0,n.jsx)(h,{ref:t,className:(0,f.cn)(a&&"text-destructive",r),htmlFor:i,...s})}).displayName="FormLabel",d.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:a,formDescriptionId:i,formMessageId:o}=b();return(0,n.jsx)(m.g7,{ref:t,id:a,"aria-describedby":s?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!s,...r})}).displayName="FormControl",d.forwardRef((e,t)=>{let{className:r,...s}=e,{formDescriptionId:a}=b();return(0,n.jsx)("p",{ref:t,id:a,className:(0,f.cn)("text-sm text-secondary",r),...s})}).displayName="FormDescription",d.forwardRef((e,t)=>{let{className:r,children:s,...a}=e,{error:i,formMessageId:o}=b(),c=i?String(null==i?void 0:i.message):s;return c?(0,n.jsx)("p",{ref:t,id:o,className:(0,f.cn)("text-sm font-medium text-destructive",r),...a,children:c}):null}).displayName="FormMessage";var w=r(7593),N=r(6288),j=r(6206);function I(){let e=c.z.object({email:c.z.string().email(),password:c.z.string().min(6,{message:"Password is required"})}),t=(0,o.cI)({resolver:(0,u.F)(e),defaultValues:{email:"",password:""}}),r=new l.GH,d=async e=>{(0,l.e5)(w.I,e.email,e.password).then(e=>{let t=e.user;j.Z.post("/signup",t).then(e=>e.data).catch(e=>{N.Am.error("Signup call unsuccessful")}),N.Am.success("Logged in successfully as "+t.displayName)}).catch(e=>{e.code;let t=e.message;N.Am.error(t)})},m=async()=>{(0,l.rh)(w.I,r).then(e=>{if(l.GH.credentialFromResult(e)){var t,r,n;j.Z.post("/signup",{uid:e.user.uid,email:e.user.email,displayName:e.user.displayName||(null===(t=e.user.email)||void 0===t?void 0:t.split("@")[0]),emailVerified:e.user.emailVerified,createdAt:(null===(r=e.user.metadata)||void 0===r?void 0:r.creationTime)?new Date(e.user.metadata.creationTime).toISOString():"",lastLoginAt:(null===(n=e.user.metadata)||void 0===n?void 0:n.lastSignInTime)?new Date(e.user.metadata.lastSignInTime).toISOString():"",providerData:e.user.providerData,providerUsername:e._tokenResponse.screenName}).then(e=>e.data).catch(e=>{N.Am.error("Signup call unsuccessful")}),N.Am.success("Logged in successfully")}}).catch(e=>{e.code;let t=e.message;e.customData.email,l.GH.credentialFromError(e),N.Am.error(t)})};return(0,n.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,n.jsx)(v,{...t,children:(0,n.jsxs)("form",{onSubmit:t.handleSubmit(d),className:"mx-auto grid w-[350px] gap-6",children:[(0,n.jsx)("div",{className:"grid gap-2 text-center",children:(0,n.jsx)("h1",{className:"text-3xl font-extrabold",children:"Login"})}),(0,n.jsx)("div",{className:"grid gap-4",children:(0,n.jsxs)(a.z,{type:"button",onClick:m,className:"w-full text-background bg-[#2b3137] hover:bg-[#2b3137] outline-none border-none hover:opacity-95",children:[(0,n.jsx)(i.Z,{className:"mr-2 h-4 w-4 inline "})," Login with Github"]})}),(0,n.jsxs)("div",{className:"mt-4 text-center text-sm",children:["Don't have an account?"," ",(0,n.jsx)(s.default,{href:"/sign-up",className:"underline",children:"Sign up"})]})]})})})}},6206:function(e,t,r){"use strict";var n=r(3107),s=r(7593),a=r(7907),i=r(6288),o=r(95);let c=async()=>{let e=s.I.currentUser,t=await (null==e?void 0:e.getIdToken());n.Z.defaults.headers.common.Authorization="Bearer ".concat(t)},u=()=>{s.I.signOut().then(()=>{i.Am.success("Logged out successfully!")}).catch(e=>{console.error("Error logging out:",e)})},l=e=>{let t=(0,a.useRouter)();return e.response&&(401===e.response.status||403===e.response.status)&&(u(),t.push("/sign-in")),Promise.reject(e)};n.Z.interceptors.request.use(e=>(c(),e.baseURL=o.Q.DBURL,e),e=>Promise.reject(e)),n.Z.interceptors.response.use(e=>e,e=>l(e)),t.Z=n.Z},5754:function(e,t,r){"use strict";r.d(t,{z:function(){return u}});var n=r(7437),s=r(2265),a=r(9143),i=r(7742),o=r(1657);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-ring text-white hover:bg-input hover:text-white hover:border hover:border-ring",destructive:"bg-secondary text-secondary hover:bg-secondary/90",outline:"border border-ring bg-background hover:bg-accent hover:text-white text-input",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-input hover:text-accent-foreground",link:"text-primary hover:bg-muted underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=s.forwardRef((e,t)=>{let{className:r,variant:s,size:i,asChild:u=!1,...l}=e,d=u?a.g7:"button";return(0,n.jsx)(d,{className:(0,o.cn)(c({variant:s,size:i,className:r})),ref:t,...l})});u.displayName="Button"},7593:function(e,t,r){"use strict";r.d(t,{I:function(){return o},M:function(){return i}});var n=r(6142),s=r(2730);let a={apiKey:"AIzaSyDIMHZcGD5xjB4LqkQh_4ITAGjTM3zwLaY",authDomain:"mom-staging-417408.firebaseapp.com",projectId:"mom-staging-417408",storageBucket:"mom-staging-417408.appspot.com",messagingSenderId:"433838767182",appId:"1:433838767182:web:dfac6ceaf7ab0bc142971f",measurementId:r(9079).env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID},i=0===(0,n.C6)().length?(0,n.ZF)(a):(0,n.C6)()[0],o=(0,s.v0)(i)},95:function(e,t,r){"use strict";r.d(t,{Q:function(){return s}});var n=r(9079);let s={DBURL:"".concat(n.env.NEXT_PUBLIC_BASE_URL)}},1657:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var n=r(3167),s=r(1367);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}},4602:function(e,t,r){"use strict";r.d(t,{_:function(){return i},f:function(){return o}});var n=r(2265),s=r(9586),a=r(7437),i=n.forwardRef((e,t)=>(0,a.jsx)(s.WV.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var o=i},9586:function(e,t,r){"use strict";r.d(t,{WV:function(){return o},jH:function(){return c}});var n=r(2265),s=r(4887),a=r(9143),i=r(7437),o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=n.forwardRef((e,r)=>{let{asChild:n,...s}=e,o=n?a.g7:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(o,{...s,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function c(e,t){e&&s.flushSync(()=>e.dispatchEvent(t))}}},function(e){e.O(0,[125,363,255,756,288,901,884,971,69,744],function(){return e(e.s=7464)}),_N_E=e.O()}]);